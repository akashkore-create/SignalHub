<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kheti Setu: New Booking Created</title>
    <style>
        body {
            margin: 0; padding: 0;
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 640px; margin: 30px auto;
            background: #fff; border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .banner {
            background: linear-gradient(135deg, #8FCB81, #F9E79F);
            color: #2f2f2f; padding: 30px 20px; text-align: center;
            position: relative;
        }
        .banner img {
            max-width: 80px; margin-bottom: 12px;
        }
        .banner h2 {
            margin: 10px 0 5px;
            font-size: 26px; font-weight: bold;
        }
        .banner p {
            margin: 4px 0; font-size: 16px;
        }
        .banner svg {
            position: absolute; top: 10px; right: 10px;
            width: 50px; height: 50px; opacity: 0.15;
        }
        .alert {
            background: #fffbe6; color: #ad6800;
            padding: 12px; margin: 20px;
            border-radius: 8px; border: 1px solid #ffe58f;
            font-size: 14px; text-align: center;
            font-weight: 500;
        }
        .content {
            padding: 0 20px 30px;
        }
        .content h3 {
            font-size: 20px; color: #333; margin-bottom: 12px;
        }
        .content p, .content li {
            color: #555; font-size: 15px; line-height: 1.7;
        }
        ul {
            padding-left: 20px; margin: 12px 0;
        }
        .buttons {
            text-align: center; margin: 30px 0 0;
        }
        .button {
            display: inline-block; margin: 8px;
            padding: 12px 20px; background: #28a745;
            color: white; text-decoration: none;
            border-radius: 6px; font-weight: bold; font-size: 14px;
            transition: background 0.3s ease;
        }
        .button:hover {
            background: #218838;
        }
        .button.cancel-button {
            background: white; color: #28a745;
            border: 2px solid #28a745;
        }
        .button.cancel-button:hover {
            background: #f8f9fa;
        }
        .farm-icons {
            text-align: center;
            padding: 20px 0;
            background: #fafafa; border-top: 1px solid #eee;
        }
        .farm-icons svg {
            width: 40px; height: 40px; margin: 0 12px;
            opacity: 0.7;
        }
        .footer {
            background: #fafafa; padding: 20px;
            text-align: center; font-size: 13px;
            color: #999; border-top: 1px solid #eee;
        }
        .footer a {
            color: #28a745; text-decoration: none;
            font-weight: 500;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        @media only screen and (max-width: 600px) {
            .container { margin: 10px; border-radius: 0; }
            .banner h2 { font-size: 22px; }
            .content h3 { font-size: 18px; }
            .content p, .content li { font-size: 14px; }
            .button { padding: 10px 16px; font-size: 13px; }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="banner">
        <img src="https://khetisetu.com/logo.png" alt="Kheti Setu Logo"/>
        <h2>Job Application Status Updated</h2>
        <p th:text="${createdDate}"></p>
        <p>Job ID: <strong th:text="${jobId}"></strong></p>
        <svg viewBox="0 0 64 64" fill="none">
            <path d="M14 44h36M14 24h36M32 14v36" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
        </svg>
    </div>

    <div class="content">
        <h3>Job Details</h3>
        <p>Dear <strong th:text="${workerName}"></strong>,</p>
        <p>Your application for '<span th:text="${title}"></span>' (ID: <span th:text="${jobId}"></span>) is now <strong th:text="${status}"></strong>.</p>

        <ul>
            <li>Location: <span th:text="${village}"></span>, <span th:text="${pincode}"></span></li>
            <li>Application Id: <span th:text="${applicationId}"></span></li>
            <li>Employer: <span th:text="${employerName}"></span></li>
        </ul>

        <p>Check details in the Kheti Setu app.</p>
        <div class="buttons">
            <a th:href="'https://khetisetu.com/api/workers/jobs/' + ${applicationId} + '/applied'" class="button">View Job Application</a>
        </div>
    </div>
    <div class="farm-icons">
        <svg viewBox="0 0 24 24" fill="none">
            <path d="M12 2v20M12 6l3 3M12 6L9 9M12 10l3 3M12 10L9 13M12 14l3 3M12 14L9 17" stroke="#8d6e63" stroke-width="2"/>
        </svg>
        <svg viewBox="0 0 24 24" fill="none">
            <path d="M4 13h2M20 17a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM6 17a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" stroke="#4caf50" stroke-width="2"/>
            <path d="M6 17H20v-5h-5l-1-3h-4v8z" stroke="#4caf50" stroke-width="2"/>
        </svg>
        <svg viewBox="0 0 24 24" fill="none">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z" stroke="#a1887f" stroke-width="2"/>
            <path d="M9 22V12h6v10" stroke="#a1887f" stroke-width="2"/>
        </svg>
    </div>

    <div class="footer">
        <p>Thank you,<br>Kheti Setu Team</p>
        <p><a th:href="'https://khetisetu.com/unsubscribe?email=' + ${email}">Unsubscribe</a></p>
        <img th:src="'https://khetisetu.com/api/notifications/track?notificationId=' + ${notificationId}" width="1" height="1" alt=""/>
    </div>
</div>
</body>
</html>